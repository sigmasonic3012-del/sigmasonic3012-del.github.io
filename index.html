<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>sign up</title>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <style>
    /* --- ФОН в стиле iPhone --- */
    body {
      margin: 0;
      padding: 0;
      height: 100vh;

      background: linear-gradient(
        135deg,
        #7bdff2,
        #b088f9,
        #f499c3,
        #8ec5fc,
        #e0c3fc
      );
      background-size: 400% 400%;
      animation: gradientMove 12s ease infinite;

      font-family: Arial, sans-serif;
      font-size: 24px;
      line-height: 1.6;

      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Анимация мягкого движения фона */
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* --- Блок формы --- */
    .container {
      background-color: rgba(255, 255, 255, 0.85);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 0 25px rgba(0, 0, 0, 0.25);
      max-width: 500px;
      width: 90%;
      text-align: center;
    }

    h1 {
      font-size: 36px;
      margin-bottom: 20px;
      color: #333;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #333;
    }

    input {
      width: 90%;
      padding: 14px;
      font-size: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    button {
      font-size: 22px;
      padding: 14px 40px;
      border-radius: 10px;
      border: none;
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background-color: #3e8e41;
    }

    .g-recaptcha {
      transform: scale(1.25);
      transform-origin: 0 0;
      margin-bottom: 20px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>sign up</h1>

    <form id="myForm" action="/.netlify/functions/verify-captcha" method="POST">
      <label for="username">Name:</label>
      <input type="text" name="username" id="username" required>

      <label for="password">Password:</label>
      <input type="password" name="password" id="password" required>

      <label>agree that your not a robot:</label>
      <div class="g-recaptcha" data-sitekey="6LcXtBUsAAAAAEQbyeKCcruABSl9QW1-sZE6NZQ0"></div>

      <button type="submit">sign up</button>
    </form>
  </div>

  <script>
    document.getElementById("myForm").addEventListener("submit", function(event) {
      var username = document.getElementById("username").value.trim();
      var password = document.getElementById("password").value.trim();
      var response = grecaptcha.getResponse();

      // Проверка длины имени
      if (username.length <= 3) {
        alert("Name must be longer than 3 characters!");
        event.preventDefault();
        return;
      }

      // Проверка длины пароля
      if (password.length <= 3) {
        alert("Password must be longer than 3 characters!");
        event.preventDefault();
        return;
      }

      // Проверка CAPTCHA
      if (response.length === 0) {
        alert("please agree that your not a robot!");
        event.preventDefault();
        return;
      }
    });
  </script>
</body>
</html>